---
import { Image } from "astro:assets";
import logoGDM from "../assets/img/logo-gdm-white.svg";
interface Props {
	//title: string;
	//body: string;
	//href: string;
}

import { Breadcrumbs } from "astro-breadcrumbs";

import 'astro-breadcrumbs/breadcrumbs.css';
---
<div class="topbar">
	<div class="inner_container_lg">
		<div class="left">
			<a href="tel:+33977216680">
				<i class="fa-sharp fa-solid fa-phone"></i>+33-9-7721-6680</a
			> | <a href="mailto:contact@gdm-pixel.fr"
				><i class="fa-sharp fa-solid fa-envelope"></i> contact@gdm-pixel.fr</a
			>
		</div>
		<div class="right">
			<span
				class="gogdm"
				data-goto="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2dkbXBpeGVsLw==">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					height="1em"
					viewBox="0 0 448 512"
					><path
						d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"
					></path></svg
				>
			</span>
			<span class="gogdm" data-goto="aHR0cHM6Ly90d2l0dGVyLmNvbS9nZG1fcGl4ZWw=">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					height="1em"
					viewBox="0 0 512 512"
					><path
						d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"
					></path></svg
				>
			</span>
			<span
				class="gogdm"
				data-goto="aHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL2NoYXJsZXMtYW5ub25pLThhNjQ1NjU2Lw==">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					height="1em"
					viewBox="0 0 448 512"
					><path
						d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"
					></path></svg
				>
			</span>
			<span
				class="gogdm"
				data-goto="aHR0cHM6Ly93d3cueW91dHViZS5jb20vYy9HRE1QaXhlbA==">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					height="1em"
					viewBox="0 0 576 512"
					><path
						d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"
					></path></svg
				></span
			>
		</div>
	</div>
</div>
<div class="header" transition:persist>
	<div class="container">
		<a href="/"><Image
			class="logo"
			src={logoGDM}
			alt="logo GDM-Pixel" /></a>
		<nav>
			<ul>
				<li>
					<a href="/"
						><svg
							xmlns="http://www.w3.org/2000/svg"
							height="1em"
							viewBox="0 0 576 512"
							><path
								d="M576 287.6H511.8l1 224.4H472 456 352V352H224V512H120 104 64.1V474.8c-.1-.9-.1-1.8-.1-2.8V360c0-.9 0-1.9 .1-2.8V287.6H0V240L288.4 0 416 106.5V32h96V186.6L576 240v47.6z"
							></path></svg
						></a
					>
				</li>
				<li><a href="/creation-site/">Création de site</a></li>
				<li><a href="/creer-ecommerce/">E-commerce</a></li>
				<li><a href="/referencement/">Référencement</a></li>
				<li><a href="/webmarketing/">Webmarketing</a></li>
				<li><a href="/contact/" >Contact</a></li>
			</ul>
		</nav>
	</div>
</div>

{Astro.url.pathname !== '/' && <Breadcrumbs>
  <svg slot="index" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>
  <svg
    slot="separator"
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    ><polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</Breadcrumbs>}

<script>
function setup() {
    window.addEventListener('scroll', function() {
        var header = document.querySelector('.header');
        header?.classList.toggle('stickynav', window.scrollY > 200);
    });
    const navLinks = document.querySelectorAll('nav ul li a');
    
    navLinks.forEach(link => {
        if (link.getAttribute('href') === window.location.pathname) {
            link.classList.add('active');
        }
        
        link.addEventListener('click', () => {
            navLinks.forEach(link => link.classList.remove('active'));
            link.classList.add('active');
        });
    });
}

document.addEventListener('DOMContentLoaded', setup);
document.addEventListener('astro:page-load', setup);
</script>
<style lang="scss" is:global>
	.topbar {
		@apply bg-raisinblack text-white px-6 text-sm py-2 z-20 relative;
		.inner_container_lg {
			@apply flex justify-between items-center;
			.left {
				@apply flex items-center;
				a {
					@apply flex items-center justify-center text-white;
					&:hover {
						@apply text-moonstone-400;svg {@apply text-moonstone-400 fill-moonstone-400;}
					}
				}
			}
			.right {
				@apply flex items-center;
				a {
					@apply flex flex-col justify-center items-center text-white;
					&:hover {
						@apply text-moonstone-400;
						
					}
				}
			}
		}
		svg {
			@apply mr-2 fill-white transition-all duration-300 text-base;
			&:hover {
				@apply fill-moonstone-400 transition-all duration-300;
			}
		}
		.svg-inline--fa {
			@apply mx-2 w-4 ;}
	}
	@keyframes slideDown {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(0); }
}
	.header {
		@apply bg-prussian-400 py-0 px-6 relative z-20 transition-all duration-300 ease-in-out;
		&.stickynav {
			@apply bg-opacity-60 sticky top-0 transition-all duration-1000 ease-in-out;
			animation: slideDown 0.5s forwards;
			nav {@apply h-[60px];}
			.logo {
				max-width: 150px;
			}
		}

		.container {
			@apply max-w-[1600px] flex px-0 py-0 justify-between items-center;
			
		}
		.logo {
				max-width: 230px;
			}
			nav {
				@apply flex items-center h-[85px];
				ul {
					@apply flex h-full;
					li {
						a {
							@apply text-base font-bold h-full flex items-center text-white px-6 flex-auto  hover:text-moonstone-400 hover:bg-prussian-600 ;
							&.active {
								@apply text-moonstone-400 bg-prussian-100;
								svg {
									@apply fill-moonstone-400;
								}
							}
						}
						svg {
							@apply fill-powder transition-all duration-300 hover:fill-moonstone-400;
						}
					}
				}
			}
	}
	.c-breadcrumbs {@apply text-prussian-400 mx-auto px-6 py-1 shadow-md capitalize bg-white relative;  
	a.c-breadcrumbs__link {
		@apply text-dustyred-400 text-[12px] font-semibold;
		&:hover {
			@apply text-moonstone-400;
		}
	}
}
</style>
