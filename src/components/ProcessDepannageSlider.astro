---
import { Image } from "astro:assets";
import PriseContact from "../assets/img/priseContact.png";
import DiagnostiqueImage from "../assets/img/diagnostique.png";
import PaiementImage from "../assets/img/paiement-maintenance.png";
import HappyCustomerImage from "../assets/img/happy-customer.png";
import RealisationImage from "../assets/img/realisation.png";
import RecettageImage from "../assets/img/recettage.png";
---
<div class="my-2 text-center">
	<div class="lg:container lg:px-0 mx-auto px-6 relative">
		<div class="swiper-ProcessSwiper overflow-hidden">
			<div class="swiper-pagination-process mb-8"></div>
			<div class="swiper-wrapper">
				<div class="swiper-slide flex flex-col">
					<Image
						src={PriseContact}
						alt="Prise de contact"
						width="850"
						height="470"
					/>
					<h3>Prise de contact</h3><p>
						Vous nous contactez pour nous expliquer votre problème. Vous pouvez nous appeler, ou demander un rendez-vous par visioconférence. A ce stade, il est important de nous montrer que vous êtes le propriétaire du site concerné, car nous n’intervenons pas sans nous en assurer.
					</p>
				</div>
				<div class="swiper-slide flex flex-col">
					<Image
						src={DiagnostiqueImage}
						alt="Diagnostique et devis"
						width="850"
						height="470"
					/>
					<h3>Diagnostique et devis</h3>
					<p>Il faut ensuite nous transmettre les éléments dont nous avons besoin. Il peut s'agir des identifiants de connexion au site, au serveur ou à votre hébergeur. Nous identifions le problème et vous transmettons un devis transparent indiquant le montant à régler pour résoudre votre panne.</p>
				</div>
				<div class="swiper-slide flex flex-col">
					<Image
						src={PaiementImage}
						alt="Paiement en ligne"
						width="850"
						height="470"
					/>
					<h3>Paiement</h3>
					<p>Si c'est la première fois que nous travaillons ensemble, nous vous transmettons un lien de paiement pour que vous puissez régler votre intervention. Nous ne faisons pas de remise en ligne gratuite ou d'intervention avec paiement à posteriori pour une société que nous ne connaissons pas.</p>
				</div>
				<div class="swiper-slide flex flex-col">
					<Image
						src={HappyCustomerImage}
						alt="Client satisfait"
						width="850"
						height="470"
					/>
					<h3>Résolution du problème</h3>
					<p>Une fois votre paiement reçu, nous procédons avec dilligence pour remettre votre site en ligne. Nous vous envoyons une preuve de travail et retirons vos identifiants de nos machines. Votre site est en ligne et fonctionne normalement.</p>
				</div>
			</div>
		</div>

		<div class="navelementwraper">
			<div class="process-next">
				<svg
					width="30"
					height="30"
					viewBox="0 0 30 30"
					fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<path
						d="M27.1875 15C27.1875 18.2323 25.9035 21.3323 23.6179 23.6179C21.3323 25.9035 18.2323 27.1875 15 27.1875C11.7677 27.1875 8.66774 25.9035 6.38214 23.6179C4.09654 21.3323 2.8125 18.2323 2.8125 15C2.8125 11.7677 4.09654 8.66774 6.38214 6.38214C8.66774 4.09654 11.7677 2.8125 15 2.8125C18.2323 2.8125 21.3323 4.09654 23.6179 6.38214C25.9035 8.66774 27.1875 11.7677 27.1875 15ZM0 15C0 18.9782 1.58035 22.7936 4.3934 25.6066C7.20644 28.4196 11.0218 30 15 30C18.9782 30 22.7936 28.4196 25.6066 25.6066C28.4196 22.7936 30 18.9782 30 15C30 11.0218 28.4196 7.20644 25.6066 4.3934C22.7936 1.58035 18.9782 0 15 0C11.0218 0 7.20644 1.58035 4.3934 4.3934C1.58035 7.20644 0 11.0218 0 15ZM20.2148 15.9961L21.2109 15L20.2148 14.0039L14.1211 7.91016L13.125 6.91406L11.1387 8.90625L12.1348 9.90234L17.2324 15L12.1348 20.0977L11.1387 21.0938L13.125 23.0801L14.1211 22.084L20.2148 15.9961Z"
					></path>
				</svg>
			</div>
			<div class="process-prev">
				<svg
					width="30"
					height="30"
					viewBox="0 0 30 30"
					fill="none"
					xmlns="http://www.w3.org/2000/svg">
					<path
						d="M2.8125 15C2.8125 11.7677 4.09654 8.66773 6.38214 6.38213C8.66774 4.09653 11.7677 2.8125 15 2.8125C18.2323 2.8125 21.3323 4.09654 23.6179 6.38213C25.9035 8.66774 27.1875 11.7677 27.1875 15C27.1875 18.2323 25.9035 21.3323 23.6179 23.6179C21.3323 25.9035 18.2323 27.1875 15 27.1875C11.7677 27.1875 8.66774 25.9035 6.38214 23.6179C4.09654 21.3323 2.8125 18.2323 2.8125 15ZM30 15C30 11.0218 28.4196 7.20644 25.6066 4.3934C22.7936 1.58035 18.9783 -9.63552e-07 15 -1.31134e-06C11.0218 -1.65913e-06 7.20645 1.58035 4.3934 4.3934C1.58035 7.20644 1.65913e-06 11.0218 1.31134e-06 15C9.63552e-07 18.9782 1.58035 22.7936 4.3934 25.6066C7.20644 28.4196 11.0218 30 15 30C18.9782 30 22.7936 28.4196 25.6066 25.6066C28.4196 22.7936 30 18.9782 30 15ZM9.78516 14.0039L8.78906 15L9.78516 15.9961L15.8789 22.0898L16.875 23.0859L18.8613 21.0937L17.8652 20.0977L12.7676 15L17.8652 9.90234L18.8613 8.90625L16.875 6.91992L15.8789 7.91601L9.78516 14.0039Z"
					></path>
				</svg>
			</div>
		</div>
	</div>
</div>

<script>
	import Swiper from "swiper/bundle";
	import "swiper/css/bundle";

	function initializeSwiperProcess() {
		var swiper = new Swiper(".swiper-ProcessSwiper", {
			pagination: {
				el: ".swiper-pagination-process",
				clickable: false,
				renderBullet: function (index, className) {
					return (
						'<span class="gdmbullet ' +
						className +
						'">' +
						(index + 1) +
						'</span><span class="separator"></span>'
					);
				},
			},
			slidesPerView: 1,
			watchSlidesProgress: true,
			slideToClickedSlide: true,
			loop:false,
			grabCursor: true,
			spaceBetween: 40,
			freeMode: false,
			speed: 500,
			navigation: {
				nextEl: ".process-next",
				prevEl: ".process-prev",
			},
		});
	}
	initializeSwiperProcess();
	document.addEventListener("astro:page-load", initializeSwiperProcess);
</script>

<style lang="scss">
	.swiper-ProcessSwiper {
		--swiper-theme-color: #d62246 !important;
		--swiper-pagination-bullet-size: 26px !important;
		--swiper-pagination-bullet-text: white !important;
		--swiper-pagination-bullet-width: 26px !important;
		--swiper-pagination-bullet-horizontal-gap: 0px;
		--swiper-pagination-bullet-width: 26px;
		--swiper-pagination-bullet-height: 26px;
		--swiper-pagination-bullet-border-radius: 99px;
		--swiper-pagination-bullet-inactive-color: #dddddd;
		--swiper-pagination-bullet-inactive-opacity: 1;
		.gdmbullet.swiper-pagination-bullet {
			color: white !important;
		}
	}
</style>
<style lang="scss" is:inline>
	.gdmbullet.swiper-pagination-bullet {
		color: white !important;
		background: #00B2CB;
		position: relative;
		display: inline-block;
		z-index: 1;
	}
	.gdmbullet.swiper-pagination-bullet-active {
		color: white !important;
		background: #d62246;
	}
	span.separator {
		display: block;
		width: 12px;
		height: 3px;
		background: #00B2CB;
		margin: 12px 0 0 0;
	}
	span.separator:last-of-type {
		display: none;
	}
	.swiper-pagination-bullets.swiper-pagination-horizontal {
		display: flex;
		justify-content: center;
	}
</style>
<style lang="scss">
	.navelementwraper {
		@apply absolute top-0 left-0 right-0 z-10 h-full w-full pointer-events-none;
		.process-next,
		.process-prev {
			@apply z-30 cursor-pointer absolute top-1/2 w-9 h-9 flex items-center justify-center align-middle pointer-events-auto;
			svg {
				@apply fill-white  transition-all duration-300 ease-in-out  hover:fill-moonstone-400;
			}
		}
		.process-next {
			@apply lg:right-8 right-1 hidden md:block;
		}
		.process-prev {
			@apply lg:left-8 left-1 hidden md:block;
		}

	}
	.swiper {
		height: 100%;
		width: 100%;
	}
	.swiper-wrapper {
		@apply mx-auto;
	}

	.swiper-container {
		@apply relative overflow-hidden z-20;
	}

	.swiper-slide {
		@apply text-center text-base flex flex-col justify-center items-center;
		h3 {
			@apply text-white text-xxl font-bold mt-4 mb-4;
		}
		p {
			@apply text-white text-base text-center max-w-3xl mx-auto;
		}
	}
</style>