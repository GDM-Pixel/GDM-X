---

---

<!-- Lightbox container -->
<div id="lightbox" class="lightbox hidden">
	<div class="lightbox-content">
		<span class="close-btn" onclick="closeBookMe()">&times;</span>
		<iframe id="lightbox-frame" src="" frameborder="0" allowfullscreen></iframe>
	</div>
</div>

<script type="text/javascript">
	function setupBookMe() {
		const lightbox = document.getElementById("lightbox");
		if (!lightbox) return;
		lightbox.style.opacity = "0";
		lightbox.classList.add("hidden");

		document
			.getElementById("lightbox")
			.addEventListener("click", function (event) {
				if (event.target === event.currentTarget) {
					closeBookMe();
				}
			});

		function openBookMe() {
			const iframe = document.getElementById("lightbox-frame");
			iframe.src =
				"https://live.digital-cookie.io/book/p-81fe0ca9-c0e4-4074-b5da-6f5162c73192?view=component";
			lightbox.classList.remove("hidden");
			setTimeout(() => (lightbox.style.opacity = "1"), 10);
		}

		function closeBookMe() {
			lightbox.style.opacity = "0";
			setTimeout(() => lightbox.classList.add("hidden"), 500);
		}
		window.openBookMe = openBookMe;
		window.closeBookMe = closeBookMe;
	}
	setupBookMe();
	document.addEventListener("astro:page-load", setupBookMe);
</script>

<style lang="scss">
	/*
.lightbox {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
  iframe {
    width:370px;height:600px;
  }
}

.lightbox.hidden {
  display: none;
  pointer-events: none;
}

.lightbox:not(.hidden) {
  opacity: 1;
}

.lightbox-content {
    @apply fixed max-w-[500px] flex flex-col justify-between bottom-2 right-4 rounded-xl p-6 bg-white;
 
}

.close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 30px;
  cursor: pointer;
}
*/

	.lightbox {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba(0, 0, 0, 0.8);
		z-index: 11;
		opacity: 0;
		transition: opacity 0.5s ease-in-out;
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: 99999;
		iframe {
			opacity: 1;
			transition: all 200ms ease-in-out;
		}
	}

	.lightbox.hidden {
		display: none;
		pointer-events: none;
	}

	.lightbox:not(.hidden) {
		opacity: 1;
	}

	.lightbox-content {
		@apply max-w-[80%] max-h-[600px] w-[80%] h-[80%] p-6 bg-white rounded-lg;
    #lightbox-frame {
      width:100%;height:100%;
    }
	}

	.close-btn {
		position: absolute;
		top: 10px;
		right: 10px;
		font-size: 30px;
		cursor: pointer;
	}
</style>
