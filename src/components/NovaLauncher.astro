---

---

<script>
	// @ts-nocheck
	function setupNovaListeners() {
		if (window.voiceflow && window.voiceflow.chat) {
			return;
		}
		(function (d, t) {
			var v = d.createElement(t),
				s = d.getElementsByTagName(t)[0];
			v.onload = function () {
				window.voiceflow.chat.load({
					verify: { projectID: "6579a0dea484f9a58503480e" },
					url: "https://general-runtime.voiceflow.com",
					versionID: "production",
					assistant: {
						title: "Nova",
						description: "Technico-commerciale chez GDM-Pixel",
						stylesheet: "https://www.gdm-pixel.fr/css/nova.css", // LIEN CSS
					},
				});
			};

			v.src = "https://cdn.voiceflow.com/widget/bundle.mjs";
			v.type = "text/javascript";
			s.parentNode.insertBefore(v, s);
		})(document, "script");
	}
	function reloadVoiceflow() {
		if (window.voiceflow) {
			delete window.voiceflow.chat;
		}
		setupButtons();
	}
	function setupButtons() {
		var buttons = document.querySelectorAll(".novabtn");
		buttons.forEach(function (button) {
			button.addEventListener("mouseover", setupNovaListeners);
		});
	}
	setupButtons();
	document.addEventListener("astro:page-load", function () {
		reloadVoiceflow();
	});
	// @ts-check
</script>
<script>
	//@ts-nocheck
	function watchNova() {
		const novaButtons = document.querySelectorAll(".novabtn");
		if (novaButtons.length > 0) {
			novaButtons.forEach((novaButton) => {
				novaButton.removeEventListener("click", handleNovaClick);
				novaButton.addEventListener("click", handleNovaClick);
			});
		}
	}
	function handleNovaClick() {
		window.voiceflow.chat.open();
	}
	watchNova();
	document.addEventListener("astro:page-load", watchNova);
</script>
